function newNode(e,t,a,n){var i=document.createElement(e);if(t!==undefined&&t!=null){if(t instanceof HTMLElement)i.appendChild(t);else if(typeof t==="string"||typeof t==="number"){var d=document.createTextNode(t);i.appendChild(d)}}if(a!==undefined&&a!=null){for(var l=0;l<a.length;l++){var s=a[l];i.setAttribute(s.name,s.value)}}if(n!==undefined&&n!=null){for(var l=0;l<n.length;l++){var r=n[l];i.dataset[r.name]=r.value}}return i}function removeNode(e,t){children=e.getElementsByTagName(t);for(var a=0;a<children.length;a++){e.removeChild(children[a])}}(function(e){e.fn.SimpleTable=function(t){var a=e.extend({columns:[],data:[],page:1,size:10,header:true,pagination:true,rePag:true,"enum":true,headClass:"info",noRowsMessage:"No records to display",searchForm:false,searchOn:"submit"},t);return this.each(function(){var t=e.extend({},a);t.data=a.data;var n;if(this.tagName.toLowerCase()==="table")n=this;else{n=newNode("table",null,[{name:"class",value:"table table-hover"}]);this.appendChild(n)}var i=new TableBuilder(n,t);var d=new Table(i);return d.build()})}})(jQuery);var Table=function(e){this.builder=e;var t=this;this.build=function(){t.builder.clear();t.builder.buildHead();e.buildBody();e.buildPagination();return t.builder.get()}};var TableBuilder=function(e,t){this.table=e;this.settings=t;var a=this;this.clear=function(){removeNode(a.table,"tbody");if(t.header)removeNode(a.table,"thead")};this.buildHead=function(){if(t.header){var e=a.settings.columns;var n=newNode("tr","",[{name:"class",value:a.settings.headClass}]);if(a.settings.enum)n.appendChild(newNode("td","#"));for(var i=0;i<e.length;i++)n.appendChild(newNode("td",e[i]));var d=newNode("thead",n);a.table.appendChild(d)}};this.getPaginationSettings=function(){var e;var t=0;var n;if(a.settings.pagination){t=(a.settings.page-1)*a.settings.size;n=t+a.settings.size;a.settings.noPages=(a.settings.data.length/a.settings.size).toFixed(0);e=a.settings.data.slice(t,n)}else e=a.settings.data;return{pageData:e,start:t,end:n}};this.buildBody=function(){var e=document.createElement("tbody");var n=a.getPaginationSettings();if(n.pageData.length==0){var i=a.settings.columns.length+(a.settings.enum?1:0);noRows=newNode("tr",newNode("td",t.noRowsMessage,[{name:"colspan",value:i}]));e.appendChild(noRows)}else{for(var d=0;d<n.pageData.length;d++){var l=n.pageData[d];var s=document.createElement("tr");if(a.settings.enum)s.appendChild(newNode("td",n.start+d+1));for(var r=0;r<l.length;r++)s.appendChild(newNode("td",l[r]));e.appendChild(s)}}a.table.appendChild(e)};this.buildPagination=function(){var e=a.getPaginationSettings().pageData;if(t.rePag&&t.pagination&&e.length>0){var n=document.createElement("div");var i=newNode("ul",null,[{name:"class",value:"pagination"}]);n.appendChild(i);i.appendChild(a.createPageItem(newNode("span","«"),1));for(var d=1;d<=t.noPages;d++)i.appendChild(a.createPageItem(d,d));i.appendChild(a.createPageItem(newNode("span","»"),a.settings.noPages));a.settings.rePag=false;a.table.parentElement.appendChild(n)}};this.createPageItem=function(e,t){var n=newNode("a",e,null,[{name:"page",value:t}]);$(n).click(function(){a.settings.page=t;a.settings.header=false;a.clear();a.buildBody()});return newNode("li",n)};this.get=function(){return a.table}};